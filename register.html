<!DOCTYPE html>
<html lang="es">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Registro - Cuah-Quick</title>
Â  Â  
    <link rel="icon" href="data:,">
    
    Â  Â  
    Â  Â  <style>
        /* ======================================= */
        /* VARIABLES DE DISEÃ‘O */
        /* ======================================= */
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --primary: #3498db; 
Â  Â  Â  Â  Â  Â  --secondary: #2ecc71; 
Â  Â  Â  Â  Â  Â  --pure-black: #000000; 
Â  Â  Â  Â  Â  Â  --card-bg: #1a1a1a; 
Â  Â  Â  Â  Â  Â  --light-text: #f5f5f5; 
Â  Â  Â  Â  Â  Â  --input-bg: #2c3e50; 
Â  Â  Â  Â  Â  Â  --shadow-color: rgba(0, 0, 0, 0.9);
Â  Â  Â  Â  }

        /* ======================================= */
        /* BASE Y LAYOUT DEL FORMULARIO */
        /* ======================================= */
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  /* âœ… Fondo Negro */
Â  Â  Â  Â  Â  Â  background-color: var(--pure-black); 
Â  Â  Â  Â  Â  Â  color: var(--light-text);
Â  Â  Â  Â  Â  Â  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
Â  Â  Â  Â  Â  Â  /* âœ… Centrado */
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  min-height: 100vh;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 20px;
Â  Â  Â  Â  }

        @keyframes fadeInScale {
Â  Â          from { opacity: 0; transform: scale(0.95); }
Â  Â          to { opacity: 1; transform: scale(1); }
        }

Â  Â  Â  Â  .register-container {
Â  Â  Â  Â  Â  Â  /* âœ… Contenedor Oscuro */
Â  Â  Â  Â  Â  Â  background: var(--card-bg); 
Â  Â  Â  Â  Â  Â  padding: 40px;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 10px 30px var(--shadow-color);
Â  Â  Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  Â  Â  max-width: 450px;
Â  Â  Â  Â  Â  Â  text-align: center;
            animation: fadeInScale 0.8s ease-out;
Â  Â  Â  Â  Â  Â  border-top: 5px solid var(--secondary);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* TÃ­tulo y Ãcono */
Â  Â  Â  Â  .register-icon {
Â  Â  Â  Â  Â  Â  font-size: 3em;
Â  Â  Â  Â  Â  Â  margin-bottom: 20px; 
Â  Â  Â  Â  }
Â  Â  Â  Â  h2 {
Â  Â  Â  Â  Â  Â  font-size: 1.8em; 
Â  Â  Â  Â  Â  Â  color: var(--primary); 
Â  Â  Â  Â  Â  Â  margin-bottom: 30px;
Â  Â  Â  Â  Â  Â  border-bottom: 2px solid var(--primary);
Â  Â  Â  Â  Â  Â  padding-bottom: 10px;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ======================================= */
Â  Â  Â  Â  /* INPUTS Y BOTÃ“N */
Â  Â  Â  Â  /* ======================================= */
Â  Â  Â  Â  input {
Â  Â  Â  Â  Â  Â  width: 100%; 
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  margin: 10px 0;
Â  Â  Â  Â  Â  Â  border: none; 
Â  Â  Â  Â  Â  Â  border-radius: 6px;
Â  Â  Â  Â  Â  Â  box-sizing: border-box;
Â  Â  Â  Â  Â  Â  /* âœ… Fondo de Input Oscuro */
Â  Â  Â  Â  Â  Â  background-color: var(--input-bg);
Â  Â  Â  Â  Â  Â  color: var(--light-text);
Â  Â  Â  Â  Â  Â  transition: box-shadow 0.3s ease;
Â  Â  Â  Â  Â  Â  font-size: 1em;
Â  Â  Â  Â  Â  Â  /* ğŸŸ¢ CORRECCIÃ“N CLAVE: Fuerza a cada input a ir en su propia lÃ­nea */
Â  Â  Â  Â  Â  Â  display: block; 
Â  Â  Â  Â  }

Â  Â  Â  Â  input:focus {
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 0 3px var(--primary); 
Â  Â  Â  Â  Â  Â  outline: none;
Â  Â  Â  Â  }

Â  Â  Â  Â  input::placeholder {
Â  Â  Â  Â  Â  Â  color: #b0c4de; 
Â  Â  Â  Â  Â  Â  opacity: 0.7;
Â  Â  Â  Â  }

Â  Â  Â  Â  #registerButton {
Â  Â  Â  Â  Â  Â  width: 100%; 
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  margin-top: 30px; 
Â  Â  Â  Â  Â  Â  background-color: var(--secondary); 
Â  Â  Â  Â  Â  Â  color: var(--card-bg); 
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  font-size: 1.1em;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  border-radius: 50px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  transition: all 0.3s ease;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(46, 204, 113, 0.5); 
Â  Â  Â  Â  }

Â  Â  Â  Â  #registerButton:hover {
Â  Â  Â  Â  Â  Â  background-color: #27ae60;
Â  Â  Â  Â  Â  Â  transform: translateY(-2px);
Â  Â  Â  Â  Â  Â  box-shadow: 0 6px 20px rgba(46, 204, 113, 0.8);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Mensajes y Enlace */
Â  Â  Â  Â  p { margin-top: 25px; color: var(--light-text); font-size: 0.9em; }
Â  Â  Â  Â  p a { color: var(--primary); text-decoration: none; font-weight: 600; transition: color 0.3s; }
Â  Â  Â  Â  p a:hover { color: #5dade2; }
Â  Â  Â  Â  #message { font-weight: bold; margin-top: 15px; }
Â  Â  </style>
</head>
<body>

    Â  Â  <div class="register-container">
Â  Â  Â  Â  <div class="register-icon">ğŸ”‘</div> 
Â  Â  Â  Â  <h2>Crear Cuenta de Estudiante</h2>
Â  Â  Â  Â  <form id="registerForm">
Â  Â  Â  Â  Â  Â  <input type="text" id="full_name" placeholder="Nombre Completo" required>
Â  Â  Â  Â  Â  Â  <input type="email" id="email" placeholder="Correo ElectrÃ³nico (UCQ)" required>
Â  Â  Â  Â  Â  Â  <input type="password" id="password" placeholder="ContraseÃ±a" required>
Â  Â  Â  Â  Â  Â  <input type="tel" id="phone" placeholder="TelÃ©fono (10 dÃ­gitos)" required>
Â  Â  Â  Â  Â  Â  <input type="text" id="student_id" placeholder="MatrÃ­cula Estudiantil" required>Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <button type="submit" id="registerButton">Registrar mi Cuenta</button>
Â  Â  Â  Â  </form>
Â  Â  Â  Â  <p>Â¿Ya tienes cuenta? <a href="login.html">Inicia SesiÃ³n</a></p>
Â  Â  Â  Â  <p id="message"></p>
Â  Â  </div>

    Â  Â  <script>
Â  Â  Â  Â  const API_BASE_URL = 'https://backend-cuah-quick-api.onrender.com/api'; 
Â  Â  Â  Â Â 
Â  Â  Â  Â  const registerForm = document.getElementById('registerForm');
Â  Â  Â  Â  const registerButton = document.getElementById('registerButton');
Â  Â  Â  Â  const messageDisplay = document.getElementById('message');

Â  Â  Â  Â  registerForm.addEventListener('submit', handleRegister);

Â  Â  Â  Â  async function handleRegister(e) {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  registerButton.disabled = true;
Â  Â  Â  Â  Â  Â  messageDisplay.textContent = 'Registrando...';
Â  Â  Â  Â  Â  Â  messageDisplay.style.color = '#f39c12'; 

Â  Â  Â  Â  Â  Â  const userData = {
Â  Â  Â  Â  Â  Â  Â  Â  full_name: document.getElementById('full_name').value,
Â  Â  Â  Â  Â  Â  Â  Â  email: document.getElementById('email').value,
Â  Â  Â  Â  Â  Â  Â  Â  password: document.getElementById('password').value,
Â  Â  Â  Â  Â  Â  Â  Â  phone: document.getElementById('phone').value,
Â  Â  Â  Â  Â  Â  Â  Â  role: 'client',Â 
Â  Â  Â  Â  Â  Â  Â  Â  student_id: document.getElementById('student_id').value
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(`${API_BASE_URL}/register`, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify(userData)
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const data = await response.json();

Â  Â  Â  Â  Â  Â  Â  Â  if (response.status === 201) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.textContent = 'âœ… Â¡Registro exitoso! SerÃ¡s redirigido para iniciar sesiÃ³n.';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.style.color = '#2ecc71'; 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  registerForm.reset(); 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.location.href = 'login.html';Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, 2000);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.textContent = `âŒ Error: ${data.message || 'Error desconocido. Verifica los datos.'}`;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.style.color = '#e74c3c'; 
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error de conexiÃ³n/red:', error);
Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.textContent = 'ğŸš¨ Â¡Fallo de ConexiÃ³n! AsegÃºrate de que la API de Render estÃ© activa.';
Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.style.color = '#e74c3c';
Â  Â  Â  Â  Â  Â  } finally {
Â  Â  Â  Â  Â  Â  Â  Â  registerButton.disabled = false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </script>
</body>
</html>
