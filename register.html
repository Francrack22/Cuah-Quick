
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro - Cuah-Quick</title>
    <style>
        /* ======================================= */
        /* DEFINICIÃ“N DE COLORES CONSISTENTES */
        /* ======================================= */
        :root {
            --primary: #3498db; /* Azul Principal (UCQ) */
            --secondary: #2ecc71; /* Verde Acento (Ã‰xito) */
            --pure-black: #000000; /* Fondo: Negro Puro */
            --card-bg: #1a1a1a; /* Fondo de Tarjeta/Formulario */
            --light-text: #f5f5f5; /* Texto Blanco/Claro */
            --subtle-text: #a0a0a0; /* Texto secundario gris */
            --input-bg: #2c3e50; /* Fondo de Input (mÃ¡s oscuro que la tarjeta) */
            --shadow-color: rgba(0, 0, 0, 0.9);
        }

        /* ======================================= */
        /* BASE Y ANIMACIONES */
        /* ======================================= */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--pure-black); /* Fondo Negro Puro */
            color: var(--light-text);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        /* AnimaciÃ³n de entrada profesional (la misma que en login.html) */
        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        /* ======================================= */
        /* CONTENEDOR CENTRAL DEL FORMULARIO */
        /* ======================================= */
        .register-container {
            background: var(--card-bg);
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 10px 30px var(--shadow-color);
            width: 90%;
            max-width: 450px; /* Un poco mÃ¡s ancho por la cantidad de campos */
            text-align: center;
            animation: fadeInScale 0.8s ease-out; /* Aplica la animaciÃ³n */
            border-top: 5px solid var(--secondary); /* Acento verde para el registro (Ã©xito) */
        }
        
        /* TÃ­tulo del formulario */
        h2 {
            font-size: 2em;
            color: var(--secondary); /* TÃ­tulo verde */
            margin-bottom: 30px;
            border-bottom: 2px solid var(--secondary);
            padding-bottom: 10px;
        }

        /* ======================================= */
        /* ELEMENTOS DEL FORMULARIO */
        /* ======================================= */
        input {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            display: inline-block;
            border: 1px solid #444; 
            border-radius: 6px;
            box-sizing: border-box;
            background-color: var(--input-bg);
            color: var(--light-text);
            transition: border-color 0.3s ease;
        }

        input:focus {
            border-color: var(--primary); /* Acento azul al enfocar */
            outline: none;
        }

        /* BotÃ³n de Registrar */
        #registerButton {
            width: 100%;
            padding: 15px;
            margin-top: 20px;
            background-color: var(--primary); /* BotÃ³n azul (UCQ) */
            color: var(--card-bg);
            font-weight: bold;
            font-size: 1.1em;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(52, 152, 219, 0.4);
        }

        #registerButton:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(52, 152, 219, 0.6);
        }

        /* Enlace de login y mensajes */
        p {
            margin-top: 25px;
            color: var(--subtle-text);
        }
        p a {
            color: var(--secondary); /* Enlace verde */
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s;
        }
        p a:hover {
            color: #58d68d;
        }
        #message {
            font-weight: bold;
            margin-top: 15px;
        }
        .register-icon {
            font-size: 3em;
            color: var(--primary);
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

Â  Â  <div class="register-container">
        <div class="register-icon">ğŸ“</div>
Â  Â  Â  Â  <h2>Crear Cuenta de Estudiante</h2>
Â  Â  Â  Â  <form id="registerForm">
Â  Â  Â  Â  Â  Â  <input type="text" id="full_name" placeholder="Nombre Completo" required>
Â  Â  Â  Â  Â  Â  <input type="email" id="email" placeholder="Correo ElectrÃ³nico (Solo Escolar)" required>
Â  Â  Â  Â  Â  Â  <input type="password" id="password" placeholder="ContraseÃ±a" required>
Â  Â  Â  Â  Â  Â  <input type="tel" id="phone" placeholder="TelÃ©fono (10 dÃ­gitos)" required>
Â  Â  Â  Â  Â  Â  <input type="text" id="student_id" placeholder="MatrÃ­cula Estudiantil" required>Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <button type="submit" id="registerButton">Registrar mi Cuenta</button>
Â  Â  Â  Â  </form>
Â  Â  Â  Â  <p>Â¿Ya tienes cuenta? <a href="login.html">Inicia SesiÃ³n aquÃ­</a></p>
Â  Â  Â  Â  <p id="message"></p>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  // URL Base de tu API
Â  Â  Â  Â  const API_BASE_URL = 'https://backend-cuah-quick-api.onrender.com/api';Â 
Â  Â  Â  Â Â 
Â  Â  Â  Â  const registerForm = document.getElementById('registerForm');
Â  Â  Â  Â  const registerButton = document.getElementById('registerButton');
Â  Â  Â  Â  const messageDisplay = document.getElementById('message');

Â  Â  Â  Â  registerForm.addEventListener('submit', handleRegister);

Â  Â  Â  Â  async function handleRegister(e) {
Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  registerButton.disabled = true;
Â  Â  Â  Â  Â  Â  messageDisplay.textContent = 'Registrando...';
Â  Â  Â  Â  Â  Â  messageDisplay.style.color = '#f39c12'; // Color temporal

Â  Â  Â  Â  Â  Â  const userData = {
Â  Â  Â  Â  Â  Â  Â  Â  full_name: document.getElementById('full_name').value,
Â  Â  Â  Â  Â  Â  Â  Â  email: document.getElementById('email').value,
Â  Â  Â  Â  Â  Â  Â  Â  password: document.getElementById('password').value,
Â  Â  Â  Â  Â  Â  Â  Â  phone: document.getElementById('phone').value,
Â  Â  Â  Â  Â  Â  Â  Â  role: 'client',Â 
Â  Â  Â  Â  Â  Â  Â  Â  student_id: document.getElementById('student_id').value
Â  Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(`${API_BASE_URL}/register`, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify(userData)
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  const data = await response.json();

Â  Â  Â  Â  Â  Â  Â  Â  if (response.status === 201) {Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.textContent = 'âœ… Registro exitoso. SerÃ¡s redirigido para iniciar sesiÃ³n.';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.style.color = var(--secondary);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.location.href = 'login.html';Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }, 2000);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.textContent = `âŒ Error: ${data.message || 'Verifica los datos.'}`;Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.style.color = '#e74c3c'; // Rojo
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('Error de conexiÃ³n:', error);
Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.textContent = 'ğŸš¨ Error de conexiÃ³n con el servidor. IntÃ©ntalo de nuevo.';
Â  Â  Â  Â  Â  Â  Â  Â  messageDisplay.style.color = '#e74c3c'; // Rojo
Â  Â  Â  Â  Â  Â  } finally {
Â  Â  Â  Â  Â  Â  Â  Â  registerButton.disabled = false;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </script>
</body>
</html>
