<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Ordenar Comida - CUAH-QUICK</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="logo.png" type="image/png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">

  <style>
    /* Rejilla del men煤 */
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }

    /* Tarjeta de producto */
    .product-card {
      background: rgba(255, 255, 255, 0.03);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 1.2rem;
      display: flex;
      flex-direction: column;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .product-card:hover {
      transform: translateY(-4px);
      border-color: var(--brand1, #007bff);
      background: rgba(255, 255, 255, 0.06);
      box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }

    /* Cabecera producto */
    .product-header {
      display: flex;
      gap: 1rem;
      margin-bottom: 0.8rem;
    }

    .product-emoji {
      font-size: 2.2rem;
      background: rgba(255,255,255,0.05);
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 10px;
    }

    .product-info h4 {
      margin: 0;
      font-size: 1.1rem;
      color: #fff;
      font-weight: 600;
      line-height: 1.3;
    }

    .product-desc {
      font-size: 0.85rem;
      color: #aaa;
      margin: 0 0 1.2rem 0;
      line-height: 1.4;
      flex-grow: 1; 
    }

    /* Footer de la tarjeta */
    .product-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: auto;
      padding-top: 1rem;
      border-top: 1px solid rgba(255,255,255,0.05);
    }

    .price {
      font-weight: 700;
      color: #fff;
      font-size: 1.1rem;
    }

    /* Bot贸n de agregar */
    .btn-add {
      background: var(--brand1, #007bff); /* Usa tu color azul */
      color: white;
      border: none;
      padding: 0.4rem 0.8rem;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.85rem;
      font-weight: 600;
      transition: transform 0.1s;
    }

    .btn-add:active {
      transform: scale(0.95);
    }
  </style>
</head>
<body>

  <div class="cursor-glow" id="cursorGlow"></div>

  <nav class="nav">
    <div class="nav-inner container">
      <a class="brand" href="index.html" aria-label="Inicio">
        <img src="logo.png" alt="Logo CUAH-QUICK" class="brand-logo-img">
        <strong>CUAH-QUICK</strong>
      </a>
      <div class="menu" aria-label="Principal">
        <a class="btn btn-outline" href="index.html#producto">Producto</a>
        <a class="btn btn-outline" href="index.html#mision-vision">Misi贸n & Visi贸n</a>
        <a class="btn btn-outline" href="index.html#como-funciona">C贸mo funciona</a>
        <a class="btn btn-primary" href="ordenar.html">Ordenar Comida</a>
      </div>
    </div>
  </nav>

  <section id="ordenar-page" class="section">
    <div class="container reveal-parent" style="max-width: 860px;">
      
      <h1 class="h1 reveal-child" data-delay="100" style="text-align: center; font-size: clamp(2rem, 5vw, 3.2rem); margin-bottom: 1rem;">
        <span id="hero-emoji" style="display: inline-block; transition: transform 0.4s cubic-bezier(0.33, 1, 0.68, 1);"></span> 
        Elige tu pedido
      </h1>

      <p class="p-muted reveal-child" data-delay="200" style="text-align: center; font-size: 1.15rem; max-width: 52ch; margin: 0 auto 2.5rem auto;">
        Selecciona la tienda de tu campus, a帽ade productos a tu carrito y paga de forma segura.
      </p>

      <div class="card reveal-child" data-delay="300" style="padding: 1.5rem 2rem;">
        <h3 class="h2">1. Selecciona una tienda</h3>
        
        <div class="feature" style="margin-top: 1rem; cursor: pointer;">
          <span style="color:var(--brand1)"></span>
          <div>
            <div style="font-weight:700">Cafeter铆a Central</div>
            <div class="p-muted" style="font-size:.9rem">Abierto 8 AM <strong>路</strong> Cierra 6:00 PM</div>
          </div>
        </div>
      </div>
      
      <div class="card reveal-child" data-delay="400" style="margin-top: 1.5rem; padding: 1.5rem 2rem;">
        <div style="display:flex; justify-content:space-between; align-items:center;">
          <h3 class="h2" style="margin:0;">2. Arma tu carrito</h3>
          <span class="p-muted" style="font-size:0.9rem">5 productos disponibles</span>
        </div>
       
        <div id="menu-container" class="menu-grid">
           </div>
      </div>
      
      <div class="cta reveal-child" data-delay="500" style="margin-top: 1.5rem; padding: 1.5rem 2rem;">
          <div class="grid grid-2" style="align-items:center">
            <div>
              <h3 class="h2" style="font-size:1.6rem">隆Listo para pagar!</h3>
              <p class="p-muted" id="total-text">Total: $0.00 MXN</p>
            </div>
            <div style="display:flex;gap:.6rem;justify-content:flex-end;flex-wrap:wrap">
              <a href="#" class="btn btn-primary">Proceder al Pago</a>
            </div>
          </div>
      </div>

    </div>
  </section>

  <footer class="footer">
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap">
      <div style="display:flex;align-items:center;gap:.5rem">
        <img src="logo.png" alt="" style="width:20px; height:20px; border-radius: 4px; object-fit: cover;">
        <span>CUAH-QUICK 漏 <span id="year"></span></span>
      </div>
      <div style="display:flex;gap:1rem">
        <a href="index.html#mision-vision">Misi贸n</a>
        <a href="index.html#mision-vision">Visi贸n</a>
        <a href="#">T茅rminos</a>
      </div>
    </div>
  </footer>

  <script>
    // === JS EXISTENTE ===
    document.getElementById('year').textContent = new Date().getFullYear();

    // 1. Efecto de Resplandor del Cursor
    const cursorGlow = document.getElementById('cursorGlow');
    if (cursorGlow) {
      window.addEventListener('mousemove', (e) => {
        window.requestAnimationFrame(() => {
          cursorGlow.style.left = e.clientX + 'px';
          cursorGlow.style.top = e.clientY + 'px';
        });
      });
    }

    // 2. Animaci贸n de Hamburguesa Flotante
    const heroEmoji = document.getElementById('hero-emoji');
    const orderSection = document.getElementById('ordenar-page');
    
    if (heroEmoji && orderSection) {
      orderSection.addEventListener('mousemove', (e) => {
        const rect = orderSection.getBoundingClientRect();
        const centerX = rect.left + rect.width / 2;
        const centerY = rect.top + rect.height / 2;
        const xMov = (e.clientX - centerX) / (rect.width / 2); 
        const yMov = (e.clientY - centerY) / (rect.height / 2);
        const intensity = 10; 

        window.requestAnimationFrame(() => {
          heroEmoji.style.transform = `translate3d(${-xMov * intensity}px, ${-yMov * intensity}px, 0)`;
        });
      });
      
      orderSection.addEventListener('mouseleave', () => {
         window.requestAnimationFrame(() => {
            heroEmoji.style.transform = 'translate3d(0,0,0)'; 
         });
      });
    }

    // 3. Animaci贸n Reveal
    const observerOptions = { root: null, rootMargin: '0px', threshold: 0.1 };
    const observerCallback = (entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          if (entry.target.classList.contains('reveal-parent')) {
            const children = entry.target.querySelectorAll('.reveal-child');
            children.forEach((child, index) => {
              const delay = child.dataset.delay || (index * 100); 
              setTimeout(() => { child.classList.add('visible'); }, delay);
            });
          } else {
            const delay = entry.target.dataset.delay || 0;
            setTimeout(() => { entry.target.classList.add('visible'); }, delay);
          }
          observer.unobserve(entry.target);
        }
      });
    };
    const revealObserver = new IntersectionObserver(observerCallback, observerOptions);
    document.querySelectorAll('.reveal-parent').forEach(parent => revealObserver.observe(parent));
    document.querySelectorAll('.reveal-child:not(.reveal-parent .reveal-child)').forEach(child => revealObserver.observe(child));

    // ============================================
    // === NUEVA LGICA DEL MEN Y CARRITO ===
    // ============================================

    const productos = [
        { id: 1, nombre: "Agua Ciel 600ml", desc: "Hidrataci贸n pura y fresca.", precio: 15.00, emoji: "" },
        { id: 2, nombre: "Coca-Cola Original", desc: "Lata 355ml bien fr铆a.", precio: 22.00, emoji: "イ" },
        { id: 3, nombre: "Papas Sabritas", desc: "Originales con sal 45g.", precio: 18.00, emoji: "" },
        { id: 4, nombre: "S谩ndwich Cl谩sico", desc: "Jam贸n, queso y mayonesa.", precio: 35.00, emoji: "オ" },
        { id: 5, nombre: "Galletas Chokis", desc: "Paquete chocolate 50g.", precio: 16.00, emoji: "" }
    ];

    let totalCuenta = 0;

    function renderizarMenu() {
        const contenedor = document.getElementById('menu-container');
        if(!contenedor) return;
        contenedor.innerHTML = ''; 

        productos.forEach(prod => {
            const htmlProducto = `
                <div class="product-card">
                    <div class="product-header">
                        <div class="product-emoji">${prod.emoji}</div>
                        <div class="product-info">
                            <h4>${prod.nombre}</h4>
                        </div>
                    </div>
                    <p class="product-desc">${prod.desc}</p>
                    <div class="product-footer">
                        <span class="price">$${prod.precio.toFixed(2)}</span>
                        <button class="btn-add" onclick="agregarProducto(${prod.id}, ${prod.precio})">
                            Agregar +
                        </button>
                    </div>
                </div>
            `;
            contenedor.innerHTML += htmlProducto;
        });
    }

    function agregarProducto(id, precio) {
        totalCuenta += precio;
        const textoTotal = document.getElementById('total-text');
        
        if(textoTotal) {
            textoTotal.textContent = `Total: $${totalCuenta.toFixed(2)} MXN`;
            textoTotal.style.color = '#4ade80'; // Flash verde
            setTimeout(() => textoTotal.style.color = '', 300);
        }
    }

    // Iniciar renderizado al cargar
    document.addEventListener('DOMContentLoaded', () => {
        renderizarMenu();
    });

  </script>
</body>
</html>
